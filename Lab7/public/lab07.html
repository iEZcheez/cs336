
<!--Kevin Tran-->
<!--Lab7-->
<!--jQuery and AJAX-->

<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Lab7</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
<!--Code-->
<script>
    //This code executes when the document is "ready to be worked on"
    $( document ).ready( function() {
        // Button
        $("button").button()

        // Button function
        // if <button id="button"> or if jQuery button has $("button")
        $("button").click(function () {
            $("<em>", {html: "Hello, Lab 7!"}).appendTo("body");

            //AJAX
            // Using the core $.ajax() method
            $.ajax({

                // The URL for the request
                url: "hello",

                // The data to send (will be converted to a query string)
                data: {
                    id: 9239
                },

                // Whether this is a POST or GET request
                type: "GET",

                // The type of data we expect back
                dataType: "json",
            })
            // Code to run if the request succeeds (is done);
            // The response is passed to the function
                .done(function (json) {
                    alert("The request is complete!");
                    $("<h1>").text(json.title).appendTo("body");
                    $("<div class=\"content\">").html(json.html).appendTo("body");
                })
                // Code to run if the request fails; the raw request and
                // status codes are passed to the function
                .fail(function (xhr, status, errorThrown) {
                    alert("Sorry, there was a problem!");
                    console.log("Error: " + errorThrown);
                    console.log("Status: " + status);
                    console.dir(xhr);
                })
        })
    })
</script>

<!--DIV Widget-->
<div class="widget">
    <h1>jQuery, jQuery-UI & AJAX</h1>
    <button>Get Data</button>
</div>
</body>
</html>